function getCount(n){const i=$("#counter");let t="item";n?(n>1&&(t="items"),i.text(n+" "+t)):i.text("No "+t)}function getItems(){$.ajax({type:"GET",url:uriGetItems,cache:!1,success:function(n){const t=$("#titems");$(t).empty();getCount(n.length);$.each(n,function(n,i){const r=$("<tr><\/tr>").append($("<td><\/td>").append($("<input/>",{type:"checkbox",disabled:!0}))).append($("<td><\/td>").text(i.name)).append($("<td><\/td>").append($("<button>Edit<\/button>").on("click",function(){editItem(i.id)}))).append($("<td><\/td>").append($("<button>Delete<\/button>").on("click",function(){deleteItem(i.id)})));r.appendTo(t)});items=n}})}function addItem(){const n={name:$("#add-name").val()};$.ajax({type:"POST",accepts:"application/json",url:uri,contentType:"application/json",data:JSON.stringify(n),error:function(){alert("Something went wrong!")},success:function(){getItems();$("#add-name").val("")}})}function deleteItem(n){$.ajax({url:uri+n,type:"DELETE",success:function(){getItems()}})}function editItem(n){$.each(items,function(t,i){i.id===n&&($("#edit-name").val(i.name),$("#edit-id").val(i.id))});$("#spoiler").css({display:"block"})}function closeInput(){$("#spoiler").css({display:"none"})}const uri="Items/",uriGetItems=uri+"GetItems";let items=null;$("#my-form").submit(function(){const n={name:$("#edit-name").val(),id:$("#edit-id").val()};return $.ajax({url:uri+$("#edit-id").val(),type:"PUT",accepts:"application/json",contentType:"application/json",data:JSON.stringify(n),success:function(){getItems()}}),closeInput(),!1});$(document).ready(function(){$("#table").hide();$("#loading").show();getItems();$("#loading").hide();$("#table").show()});